import React, { useContext, useEffect } from 'react'
import { Box, createStyles, makeStyles, MuiThemeProvider } from '@material-ui/core'
// import Appbar from '../components/Appbar/Appbar'
import {
  globalStore,
  PlaylistSeachSotre,
  StoreProvider,
} from 'global/Contexts/PlaylistDataContext'
import PageContainer from './PageContainer'
import { Appbar } from 'components'
import { lightTheme, darkTheme } from 'resources/themes/themes'

const AppContainer = () => {
  const {activeTheme } = useContext(globalStore)
  const classes = useStyles({activeTheme})
  useEffect(()=>console.log({activeTheme}),[activeTheme])


  return (
    // <StoreProvider>
      <MuiThemeProvider theme={activeTheme === "light" ? lightTheme : darkTheme}>
      {/* <MuiThemeProvider theme={ lightTheme}> */}
        <Box className={classes.appContainerStyle}>
          <Appbar />
          <PageContainer  />
        </Box>
      </MuiThemeProvider>
    // </StoreProvider>
  )
}

const useStyles = makeStyles((theme) =>
  createStyles({
    appContainerStyle: {
      minHeight: '100vh',
      // backgroundImage: `url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.com/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1010%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='rgba(114%2c 171%2c 231%2c 1)'%3e%3c/rect%3e%3cpath d='M0%2c333.656C75.485%2c336.97%2c153.468%2c377.38%2c221.787%2c345.107C291.707%2c312.078%2c326.197%2c233.975%2c359.129%2c164.009C392.376%2c93.373%2c427.002%2c17.383%2c412.115%2c-59.253C397.451%2c-134.739%2c329.566%2c-183.833%2c280.119%2c-242.724C229.795%2c-302.659%2c195.42%2c-387.895%2c119.668%2c-407.551C44.041%2c-427.174%2c-26.57%2c-367.413%2c-100.251%2c-341.422C-169.397%2c-317.031%2c-256.926%2c-319.235%2c-299.641%2c-259.64C-342.27%2c-200.166%2c-305.32%2c-117.762%2c-312.739%2c-44.965C-319.751%2c23.84%2c-360.535%2c89.559%2c-342.019%2c156.195C-322.394%2c226.823%2c-274.682%2c292.407%2c-209.615%2c326.168C-146.272%2c359.034%2c-71.293%2c330.526%2c0%2c333.656' fill='%233788dd'%3e%3c/path%3e%3cpath d='M1440 1108.106C1549.531 1108.9479999999999 1658.783 1101.588 1757.33 1053.774 1864.248 1001.898 1973.243 934.165 2021.931 825.759 2070.532 717.548 2036.56 594.022 2016.3139999999999 477.139 1996.609 363.381 1985.338 240.07799999999997 1905.959 156.24400000000003 1827.6390000000001 73.52800000000002 1706.643 54.716999999999985 1594.987 32.160999999999945 1491.472 11.25 1382.923-7.789999999999964 1284.589 30.71900000000005 1189.717 67.87299999999999 1133.219 159.409 1068.6979999999999 238.265 1006.023 314.866 936.3679999999999 388.00800000000004 913.469 484.296 889.375 585.608 900.965 691.956 937.619 789.4300000000001 976.004 891.505 1033.702 990.5029999999999 1125.791 1048.9180000000001 1217.65 1107.187 1331.222 1107.27 1440 1108.106' fill='%23adcef1'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1010'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e")`,
      backgroundRepeat: 'no-repeat',
      backgroundAttachment: 'fixed',
      backgroundPosition: 'bottom',
      backgroundSize: 'cover',
      // backgroundImage: `url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.com/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1012%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='rgba(28%2c 30%2c 31%2c 1)'%3e%3c/rect%3e%3cpath d='M0%2c333.656C75.485%2c336.97%2c153.468%2c377.38%2c221.787%2c345.107C291.707%2c312.078%2c326.197%2c233.975%2c359.129%2c164.009C392.376%2c93.373%2c427.002%2c17.383%2c412.115%2c-59.253C397.451%2c-134.739%2c329.566%2c-183.833%2c280.119%2c-242.724C229.795%2c-302.659%2c195.42%2c-387.895%2c119.668%2c-407.551C44.041%2c-427.174%2c-26.57%2c-367.413%2c-100.251%2c-341.422C-169.397%2c-317.031%2c-256.926%2c-319.235%2c-299.641%2c-259.64C-342.27%2c-200.166%2c-305.32%2c-117.762%2c-312.739%2c-44.965C-319.751%2c23.84%2c-360.535%2c89.559%2c-342.019%2c156.195C-322.394%2c226.823%2c-274.682%2c292.407%2c-209.615%2c326.168C-146.272%2c359.034%2c-71.293%2c330.526%2c0%2c333.656' fill='%23161819'%3e%3c/path%3e%3cpath d='M1440 1108.106C1549.531 1108.9479999999999 1658.783 1101.588 1757.33 1053.774 1864.248 1001.898 1973.243 934.165 2021.931 825.759 2070.532 717.548 2036.56 594.022 2016.3139999999999 477.139 1996.609 363.381 1985.338 240.07799999999997 1905.959 156.24400000000003 1827.6390000000001 73.52800000000002 1706.643 54.716999999999985 1594.987 32.160999999999945 1491.472 11.25 1382.923-7.789999999999964 1284.589 30.71900000000005 1189.717 67.87299999999999 1133.219 159.409 1068.6979999999999 238.265 1006.023 314.866 936.3679999999999 388.00800000000004 913.469 484.296 889.375 585.608 900.965 691.956 937.619 789.4300000000001 976.004 891.505 1033.702 990.5029999999999 1125.791 1048.9180000000001 1217.65 1107.187 1331.222 1107.27 1440 1108.106' fill='%23222425'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1012'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e")`,
      backgroundImage: `url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.com/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1003%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='rgba(107%2c 165%2c 225%2c 0.32)'%3e%3c/rect%3e%3cpath d='M0%2c537.746C99.32%2c547.385%2c140.668%2c403.425%2c223.624%2c347.966C304.361%2c293.99%2c430.253%2c302.876%2c477.901%2c218.25C525.421%2c133.85%2c469.54%2c30.341%2c456.499%2c-65.635C443.34%2c-162.479%2c458.825%2c-268.68%2c401.029%2c-347.493C341.813%2c-428.241%2c244.322%2c-487.025%2c144.283%2c-491.383C48.908%2c-495.538%2c-22.31%2c-410.631%2c-108.552%2c-369.693C-178.678%2c-336.405%2c-262.705%2c-330.3%2c-315.313%2c-273.22C-368.575%2c-215.43%2c-389.14%2c-135.264%2c-396.709%2c-57.038C-404.042%2c18.743%2c-394.111%2c96.505%2c-357.552%2c163.288C-322.382%2c227.533%2c-247.946%2c254.136%2c-197.366%2c307.108C-126.043%2c381.803%2c-102.795%2c527.769%2c0%2c537.746' fill='rgba(52%2c 131%2c 214%2c 0.32)'%3e%3c/path%3e%3cpath d='M1440 1075.258C1551.256 1088.104 1668.91 1122.109 1769.166 1072.192 1872.423 1020.781 1947.792 917.332 1979.774 806.506 2010.039 701.63 1954.245 596.336 1937.622 488.453 1921.2060000000001 381.913 1939.904 267.768 1882.688 176.409 1821.417 78.57600000000002 1720.482 12.80499999999995 1613.1399999999999-29.659999999999968 1498.848-74.87400000000002 1368.505-117.793 1254.384-72.14999999999998 1141.814-27.128000000000043 1091.854 100.214 1029.079 203.935 975.818 291.936 946.7909999999999 386.305 917.275 484.843 882.389 601.309 789.345 723.489 840.401 833.828 891.496 944.25 1043.4470000000001 955.9839999999999 1156.311 1001.429 1248.826 1038.68 1340.925 1063.818 1440 1075.258' fill='rgba(162%2c 199%2c 236%2c 0.32)'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1003'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e")`,
      backgroundColor: props=> props.activeTheme === "light"? '#fff': '#151515'
    },
  })
)

export default AppContainer
